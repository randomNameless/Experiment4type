<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Control-Flow Redirection Simulation</title>
  <script>
    // Simulated obfuscated control flow with observable side effects
    function redirectControlFlow(input) {
      const decision = ((input * 42) % 7) ^ 3;

      const controlMap = {
        0: () => console.log("Branch 0 triggered"),
        1: () => console.log("Branch 1 triggered"),
        2: () => console.log("Branch 2 triggered"),
        3: () => {
          // Simulated sensitive logic - observable API call
          const code = "YWxlcnQoJ1JlZGlyZWN0ZWQgdG8gc2Vuc2l0aXZlIGxvZ2ljJyk7";
          try {
            eval(atob(code)); // Will trigger alert() directly
            console.log("Sensitive branch executed");
          } catch (e) {
            console.error("Decryption/execution failed", e);
          }
        }
      };

      (controlMap[decision] || (() => console.log("Default branch executed")))();
    }

    // Ensure it executes early
    window.addEventListener('DOMContentLoaded', () => {
      redirectControlFlow(13);
    });
  </script>
</head>
<body>
  <h1>Page 2: Control-Flow Redirection Simulation</h1>
</body>
</html>

